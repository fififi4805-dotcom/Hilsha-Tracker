import streamlit as st

# ржкрзЗржЬ рж╕рзЗржЯржЖржк
st.set_page_config(page_title="ржЗрж▓рж┐рж╢ ржмрж╛ржЬрж╛рж░ ржоржирж┐ржЯрж░", page_icon="ЁЯРЯ", layout="centered")

# ржХрж╛рж╕рзНржЯржо ржбрж┐ржЬрж╛ржЗржи (CSS)
st.markdown("""
    <style>
    .main { background-color: #f8f9fa; }
    div.stButton > button:first-child {
        background-color: #007bff; color: white; border-radius: 12px;
        height: 3em; width: 100%; font-weight: bold; font-size: 18px;
    }
    </style>
    """, unsafe_allow_html=True)

# рж╣рзЗржбрж╛рж░
st.title("ЁЯРЯ ржЪрж╛ржБржжржкрзБрж░рзЗрж░ ржЗрж▓рж┐рж╢ ржмрж╛ржЬрж╛рж░ ржоржирж┐ржЯрж░")
st.markdown("---")

# ржЗржиржкрзБржЯ рж╕рзЗржХрж╢ржи
col1, col2 = st.columns(2)
with col1:
    fish_size = st.selectbox("ржорж╛ржЫрзЗрж░ ржУржЬржи", ["рзлрзжрзж ржЧрзНрж░рж╛ржо", "рзз ржХрзЗржЬрж┐", "рзз.рзл ржХрзЗржЬрж┐", "рзи ржХрзЗржЬрж┐"])
with col2:
    price_map = {"рзлрзжрзж ржЧрзНрж░рж╛ржо": 800, "рзз ржХрзЗржЬрж┐": 1400, "рзз.рзл ржХрзЗржЬрж┐": 1850, "рзи ржХрзЗржЬрж┐": 2500}
    target_price = price_map[fish_size]
    st.metric(label="ржЖржжрж░рзНрж╢ ржмрж╛ржЬрж╛рж░ ржжрж░", value=f"{target_price} рз│")

user_price = st.number_input("ржмрж┐ржХрзНрж░рзЗрждрж╛ ржХржд ржжрж╛ржо ржЪрж╛ржЪрзНржЫрзЗ? (ржЯрж╛ржХрж╛/ржХрзЗржЬрж┐)", min_value=100, step=50, value=target_price)

# рж░рзЗржЬрж╛рж▓рзНржЯ
if st.button("ржжрж╛ржо ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи"):
    st.write("---")
    diff = user_price - target_price
    if diff > 100:
        st.error(f"ЁЯЪи рж╕рж╛ржмржзрж╛ржи! ржЖржкржирж┐ ржкрзНрж░рждрж┐ ржХрзЗржЬрж┐рждрзЗ {diff} ржЯрж╛ржХрж╛ ржмрзЗрж╢рж┐ ржжрж┐ржЪрзНржЫрзЗржиред")
    elif diff < -50:
        st.balloons()
        st.success(f"тЬЕ ржЕрж╕рж╛ржзрж╛рж░ржг! ржЖржкржирж┐ ржмрзЗрж╢ рж╕рж╕рзНрждрж╛ржпрж╝ ржорж╛ржЫ ржкрж╛ржЪрзНржЫрзЗржиред")
    else:
        st.success("тЬЕ ржжрж╛ржо ржПржХржжржо ржарж┐ржХ ржЖржЫрзЗред")

st.markdown("---")
st.caption("ЁЯЫбя╕П ржЪрж╛ржБржжржкрзБрж░ рж╕рж┐ржирзНржбрж┐ржХрзЗржЯ ржмрж┐рж░рзЛржзрзА ржорзБржнржорзЗржирзНржЯ | ржбрзЗржнрзЗрж▓ржкржб ржмрж╛ржЗ ржлрзЯрж╕рж╛рж▓")
